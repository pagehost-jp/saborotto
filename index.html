<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>サボ - Amazonせどりカタログ作成アシスタント</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://cdn.jsdelivr.net/npm/tesseract.js@5/dist/tesseract.min.js"></script>
</head>
<body>
  <div class="container">
    <header>
      <h1>🌵 サボ</h1>
      <p class="subtitle">Amazonせどりカタログ作成アシスタント</p>
    </header>

    <main>
      <!-- イントロダクション -->
      <section class="intro-section">
        <h2>📝 このツールの使い方</h2>
        <div class="intro-content">
          <p>
            <strong>サボは、Amazonセラーセントラルでカタログを作成する際に、<br>
            わからない項目を商品情報をもとにサポートするツールです。</strong>
          </p>

          <div class="flow-diagram">
            <div class="flow-step">
              <div class="flow-number">0</div>
              <p>Amazon公式AIで自動入力</p>
            </div>
            <div class="flow-arrow">→</div>
            <div class="flow-step">
              <div class="flow-number">1</div>
              <p>サボに商品情報を登録</p>
            </div>
            <div class="flow-arrow">→</div>
            <div class="flow-step">
              <div class="flow-number">2</div>
              <p>わからないところをサボに質問</p>
            </div>
          </div>

          <div class="note-box">
            <strong>💡 重要：</strong><br>
            まずAmazonで商品登録を始めて、わからないところが出てきたらサボに商品情報を登録して質問してください。<br>
            サボがあなたの商品に合った回答を提供します。
          </div>
        </div>
      </section>

      <!-- STEP 0: Amazon公式AI機能 -->
      <section id="step0" class="step-section">
        <div class="step-header">
          <span class="step-number">STEP 0</span>
          <h2>Amazon公式AI機能で自動入力</h2>
        </div>

        <div class="guide-content">
          <p class="guide-text" style="text-align: center; font-size: 18px; margin: 40px 0;">
            セラーセントラルで<strong>「商品登録」→ 空白のフォーム → 出品情報の作成の「今すぐお試しください」</strong>を選んで、<br>
            商品写真をアップロードしてAIに自動入力させてください。
          </p>

          <div class="note-box" style="margin: 40px 0;">
            <strong>💡 ポイント：</strong><br>
            商品パッケージの写真（全体、JANコード、仕様など）を撮影してアップロードしてください。<br>
            Amazon公式AIが自動的に多くの項目を埋めてくれます。
          </div>

          <button class="next-btn" onclick="showStep1()">次へ：サボに商品情報を登録 →</button>
        </div>
      </section>

      <!-- STEP 1: 商品情報登録 -->
      <section id="step1" class="step-section hidden">
        <div class="step-header">
          <span class="step-number">STEP 1</span>
          <h2>サボに商品情報を登録</h2>
        </div>

        <div class="guide-content">
          <p class="guide-text" style="text-align: center; font-size: 18px; margin: 40px 0;">
            Amazonで埋まらなかった項目がありますか？<br>
            <strong>商品のJANコード（バーコードの番号）を入力してください。</strong>
          </p>

          <div style="max-width: 500px; margin: 0 auto;">
            <label style="display: block; font-weight: 600; margin-bottom: 8px; color: #333;">
              🔢 JANコード（13桁または8桁）
            </label>
            <input
              type="text"
              id="jan-input"
              placeholder="4901234567890"
              style="width: 100%; padding: 16px; font-size: 18px; border: 2px solid #d0d0d0; border-radius: 8px; text-align: center; font-family: monospace;"
              maxlength="13"
            >
            <button onclick="searchByJAN()" style="width: 100%; margin-top: 16px; padding: 16px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; border-radius: 8px; font-size: 16px; font-weight: 600; cursor: pointer;">
              🔍 商品情報を検索
            </button>
          </div>

          <div id="product-info" class="product-info hidden">
            <h4 style="color: #667eea; margin-bottom: 16px;">✅ 商品情報を取得しました</h4>
            <div id="product-details" class="product-details"></div>
            <button onclick="resetProductInfo()" style="margin-top: 20px; padding: 12px 24px; background: #f44; color: white; border: none; border-radius: 8px; font-size: 14px; font-weight: 600; cursor: pointer;">
              🗑️ リセットして別の商品を検索
            </button>
          </div>

          <div id="jan-not-found" class="hidden" style="margin-top: 40px; padding: 24px; background: #fff8e1; border-radius: 12px; border-left: 4px solid #ffc107;">
            <h4 style="color: #ff9800; margin-bottom: 12px;">⚠️ 商品が見つかりませんでした</h4>
            <p style="margin-bottom: 16px;">
              JANコードで商品情報が見つかりませんでした。<br>
              商品パッケージの写真をアップロードしてください。
            </p>

            <div class="upload-area-product" id="product-upload-area">
              <div class="upload-content">
                <svg width="64" height="64" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                  <path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4M17 8l-5-5-5 5M12 3v12"/>
                </svg>
                <p><strong>商品写真をアップロード</strong></p>
                <p class="small">クリックまたはドラッグ&ドロップ（複数枚OK）</p>
              </div>
              <input type="file" id="product-upload" accept="image/*" multiple hidden>
            </div>

            <div id="product-preview" class="product-preview hidden">
              <h4>📷 アップロードされた写真</h4>
              <div id="preview-images" class="preview-images"></div>
            </div>
          </div>

          <button class="next-btn" onclick="showStep2()">次へ：わからないところをサボに質問 →</button>
          <button class="back-btn" onclick="showStep0()">← 戻る</button>
        </div>
      </section>

      <!-- STEP 2: わからないところを質問 -->
      <section id="step2" class="step-section hidden">
        <div class="step-header">
          <span class="step-number">STEP 2</span>
          <h2>わからないところをサボに質問</h2>
        </div>

        <div class="guide-content">
          <p class="guide-text">
            Amazon AIでも埋まらなかった項目や、入力方法がわからない項目はありませんか？<br>
            <strong>その部分のスクリーンショットをアップロードしてください。</strong><br>
            サボが、STEP 1で登録した商品情報をもとに、何を入力すればよいかアドバイスします。
          </p>

          <div class="screenshot-helper">
            <h3>📸 わからない項目のスクリーンショットをアップロード</h3>
            <p>
              セラーセントラルで、入力方法がわからない項目や埋まらなかった項目のスクリーンショットを撮って、<br>
              ここにアップロードしてください。サボが商品情報をもとに回答します。<br>
              <strong style="color: #667eea;">複数の項目を質問する場合は、それぞれアップロードしてください。</strong>
            </p>

            <div class="upload-area" id="screenshot-upload-area">
              <div class="upload-content">
                <svg width="64" height="64" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                  <path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4M17 8l-5-5-5 5M12 3v12"/>
                </svg>
                <p><strong>スクリーンショットをアップロード</strong></p>
                <p class="small">クリックまたはドラッグ&ドロップ</p>
              </div>
              <input type="file" id="screenshot-upload" accept="image/*" hidden>
            </div>

            <div id="screenshot-advice" class="screenshot-advice hidden"></div>
          </div>

          <div class="note-box">
            <strong>💡 ヒント：</strong><br>
            スクリーンショットには、項目名や入力欄が明確に写っているものが最適です。<br>
            複数の項目がわからない場合は、それぞれスクリーンショットを撮ってアップロードしてください。
          </div>

          <button class="back-btn" onclick="showStep1()">← 戻る</button>
        </div>
      </section>

    </main>

    <footer>
      <p>&copy; 2024 サボ - Amazonせどりカタログ作成アシスタント</p>
    </footer>
  </div>

  <script src="script.js"></script>
</body>
</html>
